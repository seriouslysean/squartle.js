/**
 * Splitleaf_Squartle
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the MIT LICENSE
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/MIT
 *
 * @category   Splitleaf
 * @package    Splitleaf_Squartle
 * @copyright  Copyright 2013 Splitleaf, LLC
 * @license    http://opensource.org/licenses/MIT
 * @author     Sean Kennedy <sean@splitleaf.net>
 * @version    1.0.0
 */
(function(e,t,n,r){function o(t,n){this.element=t;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init()}var i="squartle";var s={containerClass:"squartle-container",listClass:"squartle-list",itemClass:"squartle-item",imageClass:"squartle-image",imageHoverClass:"squartle-image-hover",itemsAcross:"3"};o.prototype={init:function(){this._setClasses();this._setStyles();this._setHover()},_setClasses:function(){e(this.element).addClass(this.options.containerClass);e("ul",this.element).addClass(this.options.listClass);e("li",this.element).addClass(this.options.itemClass);e("img",this.element).addClass(this.options.imageClass)},_setStyles:function(){width=100/this.options.itemsAcross;e(this.element).css("overflow","hidden");e("ul",this.element).css("overflow","hidden");e("li",this.element).css("overflow","hidden").css("float","left").css("display","block").css("position","relative").css("width",width+"%");e("img",this.element).css("height","auto").css("width","auto").css("max-width","100%").css("display","block").css("top","0").css("left","0")},_setHover:function(){options=this.options;e("li",this.element).each(function(){links=e("a",this);images=e("img",this);if(links.length){links.each(function(){link=e(this);image=e("> img",this);if(image.data("hover")){hover=e("<img>").attr("src",image.data("hover")).attr("alt",e(this).attr("alt")).css("height","auto").css("width","auto").css("max-width","100%").css("position","absolute").css("top","0").css("left","0").css("z-index","10").css("display","none").addClass(options.imageHoverClass);e(link).append(hover);e(link).hover(function(t){t.preventDefault();e("> ."+options.imageHoverClass,this).finish().fadeIn("fast")},function(t){t.preventDefault();e("> ."+options.imageHoverClass,this).finish().fadeOut("fast")})}})}else{console.log("No link found!")}})}};e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new o(this,t))}})}})(jQuery,window,document)